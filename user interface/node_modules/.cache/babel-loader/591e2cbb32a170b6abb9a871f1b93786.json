{"ast":null,"code":"var _jsxFileName = \"/Users/samarth/Documents/Programming/RUHacks/user interface/src/components/mainPage.js\";\nimport React from 'react';\nimport './mainPage.css';\nimport logo from '../logo.png';\nimport axios from 'axios';\nimport { resolve } from 'dns';\nexport class MainPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeHandler = event => {\n      this.setState({\n        selectedFile: event.target.files[0],\n        loaded: 0\n      });\n    };\n\n    this.onClickHandler = () => {\n      // const data = new FormData();\n      // data.append('file', this.setState.selectedFile);\n      // axios.post(\"http://localhost:1111/api/upload\", data, {\n      //     headers: {\n      //         'Content-Type': 'multipart/form-data',\n      //     }\n      // }).then(result => {\n      //     console.log(\"success\");\n      // })\n      // var xhr = new XMLHttpRequest();\n      // xhr.withCredentials = true;\n      // xhr.addEventListener(\"readystatechange\", function () {\n      //     if (this.readyState === 4) {\n      //       console.log(this.responseText);\n      //     }\n      //   });\n      //   xhr.open(\"POST\", \"http://localhost:1111/api/upload\");\n      //   xhr.setRequestHeader(\"cache-control\", \"no-cache\");\n      //   xhr.setRequestHeader(\"Postman-Token\", \"7a210a60-a3a1-44c7-9cfa-155669b8be3a\");\n      //   xhr.send(data);\n      return new Promise((resolve, reject) => {\n        const req = new XMLHttpRequest();\n        const formData = new FormData();\n        formData.append(\"file\", this.state.selectedFile, this.state.selectedFile.name);\n        req.open(\"POST\", \"http://localhost:1111/api/upload\");\n        req.send(formData);\n      });\n    };\n\n    this.OnProcessHandler = async function () {\n      return new Promise((resolve, reject) => {\n        const req = new XMLHttpRequest();\n        req.open(\"GET\", \"http://localhost:1111/api/analyse\");\n        req.send();\n      }).then((res, err) => {\n        console.log(res);\n      });\n    };\n\n    this.state = {\n      selectedFile: null\n    };\n    this.onChangeHandler = this.onChangeHandler.bind(this);\n    this.onClickHandler = this.onClickHandler.bind(this);\n  } // <div>\n  //             <p>{this.props.usn}</p>\n  //         </div>\n\n\n  render() {\n    return React.createElement(\"html\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"head\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"link\", {\n      href: \"https://fonts.googleapis.com/css?family=Montserrat&display=swap\",\n      rel: \"stylesheet\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })), React.createElement(\"body\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"navbar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"navelement\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"About\"), React.createElement(\"li\", {\n      className: \"navelement\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"History\"), React.createElement(\"li\", {\n      className: \"navelement\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Stats\"), React.createElement(\"li\", {\n      className: \"navelement\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Home\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"logo\",\n      src: logo,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"upload\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      name: \"file\",\n      onChange: this.onChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.onClickHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Upload\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Your current upload:\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Total:\")))), React.createElement(\"div\", {\n      className: \"process\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.OnProcessHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Process\"))));\n  }\n\n}","map":{"version":3,"sources":["/Users/samarth/Documents/Programming/RUHacks/user interface/src/components/mainPage.js"],"names":["React","logo","axios","resolve","MainPage","Component","constructor","props","onChangeHandler","event","setState","selectedFile","target","files","loaded","onClickHandler","Promise","reject","req","XMLHttpRequest","formData","FormData","append","state","name","open","send","OnProcessHandler","then","res","err","console","log","bind","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './mainPage.css';\nimport logo from '../logo.png';\nimport axios from 'axios';\nimport { resolve } from 'dns';\n\nexport class MainPage extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedFile: null\n        };\n        this.onChangeHandler = this.onChangeHandler.bind(this);\n        this.onClickHandler = this.onClickHandler.bind(this);\n    }\n    \n    // <div>\n    //             <p>{this.props.usn}</p>\n    //         </div>\n    onChangeHandler = event => {\n        this.setState({\n            selectedFile: event.target.files[0],\n            loaded: 0,\n        })\n    }\n\n    onClickHandler = () => {\n        // const data = new FormData();\n        // data.append('file', this.setState.selectedFile);\n\n        // axios.post(\"http://localhost:1111/api/upload\", data, {\n        //     headers: {\n        //         'Content-Type': 'multipart/form-data',\n        //     }\n        // }).then(result => {\n        //     console.log(\"success\");\n        // })\n\n        // var xhr = new XMLHttpRequest();\n        // xhr.withCredentials = true;\n\n        // xhr.addEventListener(\"readystatechange\", function () {\n        //     if (this.readyState === 4) {\n        //       console.log(this.responseText);\n        //     }\n        //   });\n          \n        //   xhr.open(\"POST\", \"http://localhost:1111/api/upload\");\n        //   xhr.setRequestHeader(\"cache-control\", \"no-cache\");\n        //   xhr.setRequestHeader(\"Postman-Token\", \"7a210a60-a3a1-44c7-9cfa-155669b8be3a\");\n          \n        //   xhr.send(data);\n\n        return new Promise((resolve, reject) => {\n            const req = new XMLHttpRequest();\n\n            const formData = new FormData();\n            formData.append(\"file\", this.state.selectedFile, this.state.selectedFile.name)\n\n            req.open(\"POST\", \"http://localhost:1111/api/upload\");\n            req.send(formData);\n        });\n    }\n\n    OnProcessHandler = async function() {\n        return new Promise((resolve, reject) => {\n            const req = new XMLHttpRequest();\n            req.open(\"GET\", \"http://localhost:1111/api/analyse\");\n            req.send();\n        }).then((res, err) => {\n            console.log(res)\n        })\n    }\n\n    render() {\n        return(\n            <html>\n                <head>\n                <link href=\"https://fonts.googleapis.com/css?family=Montserrat&display=swap\" rel=\"stylesheet\"/>\n                </head>\n                <body>\n                    <div>\n                        <ul className=\"navbar\">\n                            <li className=\"navelement\">About</li>\n                            <li className=\"navelement\">History</li>\n                            <li className=\"navelement\">Stats</li>\n                            <li className=\"navelement\">Home</li>\n                            <li><img className=\"logo\" src={logo} alt=\"\"/></li>\n                        </ul>\n                    </div>\n                    <div>\n                        <div className=\"upload\">\n                           \n                            <input type=\"file\" name=\"file\" onChange={this.onChangeHandler}/>\n                            <button onClick={this.onClickHandler}>Upload</button>\n                           \n                            <div>\n                                <p>Your current upload:</p>\n                                {/* Add image here*/}\n                                <p>Total:</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"process\">\n                        <button onClick={this.OnProcessHandler}>Process</button>\n                    </div>\n                </body>\n            </html>\n\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}